(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5345],{24535:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/portfolio",function(){return t(43933)}])},4844:function(e,n,t){"use strict";t.d(n,{F:function(){return r}});let r=()=>{let e={AL:"Albania",AD:"Andorra",AT:"Austria",BY:"Belarus",BE:"Belgium",BA:"Bosnia and Herzegovina",BG:"Bulgaria",HR:"Croatia",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",EE:"Estonia",FI:"Finland",FR:"France",DE:"Germany",GR:"Greece",HU:"Hungary",IS:"Iceland",IE:"Ireland",IT:"Italy",LV:"Latvia",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MK:"North Macedonia",MT:"Malta",MD:"Moldova",MC:"Monaco",ME:"Montenegro",NL:"Netherlands",NO:"Norway",PL:"Poland",PT:"Portugal",RO:"Romania",RU:"Russia",SM:"San Marino",RS:"Serbia",SK:"Slovakia",SI:"Slovenia",ES:"Spain",SE:"Sweden",CH:"Switzerland",UA:"Ukraine",GB:"United Kingdom",VA:"Vatican City"};return{getCountry:n=>e[n],countries:e}}},5385:function(e,n,t){"use strict";t.d(n,{s:function(){return a}});var r=t(67294);let a=()=>{let e=(0,r.useRef)(!1);return(0,r.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),(0,r.useCallback)(()=>e.current,[])}},43933:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return eg}});var r=t(85893),a=t(67294),i=t(40046);t(10216);var s=t(87357),o=t(11057),l=t(67720),c=t(51233),d=t(53219),u=t(15861),h=t(98396),g=t(83894),x=t(69119),m=t(46395),p=t(49181),y=t(77349),j=t(88330);let b=new Date,Z=[{id:"5ecb868d0f437390ef3ac62c",count:100,mwh:100,energyType:"Green gas",currency:"$",value:1e3,country:"NL",dueDate:(0,y.Z)(b,5).getTime(),issueDate:(0,j.Z)(b,1).getTime(),number:"AS100 - AS300",totalAmount:55.5},{id:"5ecb868d0f437390ef3ac62c",count:100,mwh:100,energyType:"Green gas",currency:"$",value:1e3,country:"NL",dueDate:(0,y.Z)(b,5).getTime(),issueDate:(0,j.Z)(b,1).getTime(),number:"AS100 - AS300",totalAmount:55.5},{id:"5ecb868d0f437390ef3ac62c",count:100,mwh:100,energyType:"Green gas",currency:"$",value:1e3,country:"NL",dueDate:(0,y.Z)(b,5).getTime(),issueDate:(0,j.Z)(b,1).getTime(),number:"AS100 - AS300",totalAmount:55.5},{id:"5ecb868d0f437390ef3ac62c",count:100,mwh:100,energyType:"Green gas",currency:"$",value:1e3,country:"NL",dueDate:(0,y.Z)(b,5).getTime(),issueDate:(0,j.Z)(b,1).getTime(),number:"AS100 - AS300",totalAmount:55.5},{id:"5ecb868d0f437390ef3ac62c",count:100,mwh:100,energyType:"Green gas",currency:"$",value:1e3,country:"NL",dueDate:(0,y.Z)(b,5).getTime(),issueDate:(0,j.Z)(b,1).getTime(),number:"AS100 - AS300",totalAmount:55.5},{id:"5ecb868d0f437390ef3ac62c",count:100,mwh:100,energyType:"Green gas",currency:"$",value:1e3,country:"NL",dueDate:(0,y.Z)(b,5).getTime(),issueDate:(0,j.Z)(b,1).getTime(),number:"AS100 - AS300",totalAmount:55.5},{id:"5ecb868d0f437390ef3ac62c",count:100,mwh:100,energyType:"Green gas",currency:"$",value:1e3,country:"NL",dueDate:(0,y.Z)(b,5).getTime(),issueDate:(0,j.Z)(b,1).getTime(),number:"AS100 - AS300",totalAmount:55.5},{id:"5ecb868d0f437390ef3ac62c",count:100,mwh:100,energyType:"Green gas",currency:"$",value:1e3,country:"NL",dueDate:(0,y.Z)(b,5).getTime(),issueDate:(0,j.Z)(b,1).getTime(),number:"AS100 - AS300",totalAmount:55.5}],f={id:"5ecb86785312dcc69b5799ad",currency:"$",customer:{address:"271 Richmond Rd, Grey Lynn, Auckland 1022, New Zealand",company:"Countdown Grey Lynn",email:"contact@acme.com",name:"ACME SRL",taxId:"6934656584231"},dueDate:(0,y.Z)(b,5).getTime(),issueDate:(0,j.Z)(b,1).getTime(),items:[{id:"5ecb8694db1760a701dfbf74",currency:"$",description:"Freelancer Subscription (12/05/2019 - 11/06/2019)",quantity:1,totalAmount:55.5,unitAmount:55.5}],number:"INV-0019",status:"paid",subtotalAmount:50,taxAmount:5.5,totalAmount:55.5},v=new class{getList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{filters:n,page:t,rowsPerPage:r}=e,a=(0,p.p)(Z),i=a.length;return void 0!==n&&(i=(a=a.filter(e=>{if(void 0!==n.query&&""!==n.query){let t=e.number.toLowerCase().includes(n.query.toLowerCase());if(!t)return!1}if(void 0!==n.startDate){if(void 0===e.issueDate)return!1;let t=(0,g.Z)(e.issueDate)>=(0,x.Z)(n.startDate);if(!t)return!1}if(void 0!==n.endDate){if(void 0===e.issueDate)return!1;let t=(0,x.Z)(e.issueDate)<=(0,g.Z)(n.endDate);if(!t)return!1}if(void 0!==n.customers&&n.customers.length>0){let t=n.customers.includes(e.customer.name);if(!t)return!1}return void 0===n.status||e.status===n.status})).length),void 0!==t&&void 0!==r&&(a=(0,m.i)(a,t,r)),Promise.resolve({data:a,count:i})}getItem(e){return Promise.resolve((0,p.p)(f))}};var C=t(59598),w=t(5385),D=t(22842),S=t(88638),A=t(90948);let P=(0,A.ZP)("div",{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:n,open:t}=e;return{flexGrow:1,overflow:"auto",paddingLeft:n.spacing(3),paddingRight:n.spacing(3),paddingTop:n.spacing(8),paddingBottom:n.spacing(8),zIndex:1,[n.breakpoints.up("lg")]:{marginLeft:-380},transition:n.transitions.create("margin",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),...t&&{[n.breakpoints.up("lg")]:{marginLeft:0},transition:n.transitions.create("margin",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen})}}});var T=t(45697),M=t.n(T),L=t(95226),k=t(45331),I=t(77533),R=t(40476),E=t(93946),N=t(87109),G=t(57709),B=t(33754),F=t(18360),H=t(18972);let O={AL:"Albania",AD:"Andorra",AT:"Austria",BY:"Belarus",BE:"Belgium",BA:"Bosnia and Herzegovina",BG:"Bulgaria",HR:"Croatia",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",EE:"Estonia",FI:"Finland",FR:"France",DE:"Germany",GR:"Greece",HU:"Hungary",IS:"Iceland",IE:"Ireland",IT:"Italy",LV:"Latvia",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MK:"North Macedonia",MT:"Malta",MD:"Moldova",MC:"Monaco",ME:"Montenegro",NL:"Netherlands",NO:"Norway",PL:"Poland",PT:"Portugal",RO:"Romania",RU:"Russia",SM:"San Marino",RS:"Serbia",SK:"Slovakia",SI:"Slovenia",ES:"Spain",SE:"Sweden",CH:"Switzerland",UA:"Ukraine",GB:"United Kingdom",VA:"Vatican City"},U=e=>{let{container:n,filters:t={},group:i,onClose:s,onFiltersChange:o,onGroupChange:l,open:g,...x}=e,m=(0,a.useRef)(null),p=(0,h.Z)(e=>e.breakpoints.up("lg")),y=(0,a.useCallback)(e=>{var n;e.preventDefault(),null==o||o({...t,query:(null===(n=m.current)||void 0===n?void 0:n.value)||""})},[t,o]),j=(0,a.useCallback)(e=>{let n={...t,startDate:e||void 0};n.endDate&&e&&e>n.endDate&&(n.endDate=e),null==o||o(n)},[t,o]),b=(0,a.useCallback)(e=>{let n={...t,endDate:e||void 0};n.startDate&&e&&e<n.startDate&&(n.startDate=e),null==o||o(n)},[t,o]),Z=(0,a.useCallback)(e=>{var n;null==o||o({...t,country:(null===(n=e.target.value)||void 0===n?void 0:n.toString())||""})},[t,o]),f=(0,r.jsxs)("div",{children:[(0,r.jsxs)(c.Z,{alignItems:"center",justifyContent:"space-between",direction:"row",sx:{p:3},children:[(0,r.jsx)(u.Z,{variant:"h5",children:"Filters"}),!p&&(0,r.jsx)(E.Z,{onClick:s,children:(0,r.jsx)(d.Z,{children:(0,r.jsx)(k.Z,{})})})]}),(0,r.jsxs)(c.Z,{spacing:3,sx:{p:3},children:[(0,r.jsx)("form",{onSubmit:y,children:(0,r.jsx)(G.Z,{defaultValue:"",fullWidth:!0,inputProps:{ref:m},placeholder:"Certificate number",startAdornment:(0,r.jsx)(N.Z,{position:"start",children:(0,r.jsx)(d.Z,{children:(0,r.jsx)(L.Z,{})})})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(R.Z,{sx:{display:"block",mb:2},children:"Issue date"}),(0,r.jsxs)(c.Z,{spacing:2,children:[(0,r.jsx)(B.M,{format:"dd/MM/yyyy",label:"From",onChange:j,value:t.startDate||null}),(0,r.jsx)(B.M,{format:"dd/MM/yyyy",label:"To",onChange:b,value:t.endDate||null})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(R.Z,{sx:{display:"block",mb:2},children:"Expiry date"}),(0,r.jsxs)(c.Z,{spacing:2,children:[(0,r.jsx)(B.M,{format:"dd/MM/yyyy",label:"From",onChange:j,value:t.startDate||null}),(0,r.jsx)(B.M,{format:"dd/MM/yyyy",label:"To",onChange:b,value:t.endDate||null})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(R.Z,{sx:{display:"block",mb:2},children:"Country"}),(0,r.jsxs)(F.Z,{fullWidth:!0,onChange:Z,value:"all",children:[(0,r.jsx)(H.Z,{value:"all",children:(0,r.jsx)("em",{children:"All countries"})}),Object.keys(O).map(e=>(0,r.jsx)(H.Z,{value:e,children:O[e]},e)),";"]})]})]})]});return p?(0,r.jsx)(I.ZP,{anchor:"left",open:g,PaperProps:{elevation:16,sx:{border:"none",borderRadius:2.5,overflow:"hidden",position:"relative",width:380}},SlideProps:{container:n},variant:"persistent",sx:{p:3},...x,children:f}):(0,r.jsx)(I.ZP,{anchor:"left",hideBackdrop:!0,ModalProps:{container:n,sx:{pointerEvents:"none",position:"absolute"}},onClose:s,open:g,PaperProps:{sx:{maxWidth:"100%",width:380,pointerEvents:"auto",position:"absolute"}},SlideProps:{container:n},variant:"temporary",...x,children:f})};U.propTypes={container:M().any,filters:M().object,group:M().bool,onClose:M().func,onFiltersChange:M().func,onGroupChange:M().func,open:M().bool},t(10304);var _=t(23544),$=t(70105),K=t(87952),V=t(66242),q=t(44267),z=t(27400);let W=()=>(0,r.jsx)("div",{children:(0,r.jsxs)(z.Z,{container:!0,spacing:3,children:[(0,r.jsx)(z.Z,{xs:12,md:6,lg:4,children:(0,r.jsx)(V.Z,{children:(0,r.jsx)(q.Z,{children:(0,r.jsxs)(c.Z,{alignItems:"center",direction:"row",spacing:2,children:[(0,r.jsx)(K.Z,{sx:{backgroundColor:"success.lightest",color:"success.main",height:48,width:48},children:(0,r.jsx)(_.Z,{})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(u.Z,{color:"text.secondary",variant:"body2",children:"Total"}),(0,r.jsxs)(u.Z,{variant:"h6",children:["300",(0,r.jsx)(u.Z,{inline:!0,style:{display:"inline",marginLeft:4},color:"text.secondary",variant:"body2",children:"mwh"})]}),(0,r.jsx)(u.Z,{color:"text.secondary",variant:"body2",children:"in 25 batches"})]})]})})})}),(0,r.jsx)(z.Z,{xs:12,md:6,lg:4,children:(0,r.jsx)(V.Z,{children:(0,r.jsx)(q.Z,{children:(0,r.jsxs)(c.Z,{alignItems:"center",direction:"row",spacing:2,children:[(0,r.jsx)(K.Z,{sx:{backgroundColor:"success.lightest",color:"success.main",height:48,width:48},children:(0,r.jsx)($.Z,{})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(u.Z,{color:"text.secondary",variant:"body2",children:"Original value"}),(0,r.jsx)(u.Z,{variant:"h6",children:"$3,439.60"}),(0,r.jsx)(u.Z,{color:"text.secondary",variant:"body2",children:"\xa0"})]})]})})})})]})});var Y=t(32912),X=t(92077),J=t.n(X),Q=t(94723),ee=t(7906),en=t(295),et=t(98102),er=t(8896),ea=t(53816),ei=t(4844),es=t(63957),eo=t(38166);let el=e=>{let{item:n,...t}=e,a=(0,ei.F)(),i=J()(n.totalAmount).format("0,0.00"),s=n.issueDate&&(0,Y.Z)(n.issueDate,"dd/MM/yyyy"),o=n.dueDate&&(0,Y.Z)(n.dueDate,"dd/MM/yyyy");return(0,r.jsxs)(ea.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},...t,children:[(0,r.jsx)(et.Z,{width:"25%",children:(0,r.jsx)(c.Z,{alignItems:"center",direction:"row",spacing:2,component:es.r,href:eo.H.dashboard.portfolio+"/"+n.id,sx:{display:"inline-flex",textDecoration:"none",whiteSpace:"nowrap"},children:(0,r.jsxs)("div",{children:[(0,r.jsx)(u.Z,{color:"text.primary",variant:"subtitle2",children:n.number}),(0,r.jsxs)(u.Z,{color:"text.secondary",variant:"body2",children:[n.count," contracts - ",n.energyType]})]})})}),(0,r.jsxs)(et.Z,{children:[(0,r.jsxs)(u.Z,{variant:"subtitle2",children:[n.currency,i]}),(0,r.jsxs)(u.Z,{color:"text.secondary",variant:"body2",children:[n.mwh," MWh"]})]}),(0,r.jsxs)(et.Z,{children:[(0,r.jsx)(u.Z,{variant:"subtitle2",children:"Issued"}),(0,r.jsx)(u.Z,{color:"text.secondary",variant:"body2",children:s})]}),(0,r.jsx)(et.Z,{}),(0,r.jsxs)(et.Z,{children:[(0,r.jsx)(u.Z,{variant:"subtitle2",children:"Expiry"}),(0,r.jsx)(u.Z,{color:"text.secondary",variant:"body2",children:o})]}),(0,r.jsxs)(et.Z,{children:[(0,r.jsx)(u.Z,{variant:"subtitle2",children:"Country"}),(0,r.jsx)(u.Z,{color:"text.secondary",variant:"body2",children:a.getCountry(n.country)})]}),(0,r.jsx)(et.Z,{align:"right",children:(0,r.jsx)(E.Z,{component:es.r,href:eo.H.dashboard.portfolio+"/"+n.id,children:(0,r.jsx)(d.Z,{children:(0,r.jsx)(Q.Z,{})})})})]})};el.propTypes={item:M().object.isRequired};let ec=e=>{let n;let{group:t=!1,items:a=[],count:i=0,onPageChange:s=()=>{},onRowsPerPageChange:o,page:l=0,rowsPerPage:d=0}=e;return n=(0,r.jsx)(V.Z,{children:(0,r.jsx)(ee.Z,{children:(0,r.jsx)(en.Z,{children:a.map(e=>(0,r.jsx)(el,{item:e},e.id))})})}),(0,r.jsxs)(c.Z,{spacing:4,children:[n,(0,r.jsx)(er.Z,{component:"div",count:i,onPageChange:s,onRowsPerPageChange:o,page:l,rowsPerPage:d,rowsPerPageOptions:[5,10,25]})]})};ec.propTypes={count:M().number,group:M().bool,items:M().array,onPageChange:M().func,onRowsPerPageChange:M().func,page:M().number,rowsPerPage:M().number};let ed=()=>{let[e,n]=(0,a.useState)({filters:{customers:[],endDate:void 0,query:"",startDate:void 0},page:0,rowsPerPage:20}),t=(0,a.useCallback)(e=>{n(n=>({...n,filters:e,page:0}))},[]),r=(0,a.useCallback)((e,t)=>{n(e=>({...e,page:t}))},[]),i=(0,a.useCallback)(e=>{n(n=>({...n,rowsPerPage:parseInt(e.target.value,10)}))},[]);return{handleFiltersChange:t,handlePageChange:r,handleRowsPerPageChange:i,state:e}},eu=e=>{let n=(0,w.s)(),[t,r]=(0,a.useState)({items:[],itemsCount:0}),i=(0,a.useCallback)(async()=>{try{let t=await v.getList(e);n()&&r({items:t.data,itemsCount:t.count})}catch(e){console.error(e)}},[e,n]);return(0,a.useEffect)(()=>{i()},[e]),{...t}},eh=()=>{let e=(0,a.useRef)(null),n=(0,h.Z)(e=>e.breakpoints.up("lg")),t=ed(),g=eu(t.state),[x,m]=(0,a.useState)(!0),[p,y]=(0,a.useState)(n);(0,D.a)();let j=(0,a.useCallback)(e=>{m(e.target.checked)},[]),b=(0,a.useCallback)(()=>{y(e=>!e)},[]),Z=(0,a.useCallback)(()=>{y(!1)},[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.p,{title:"Dashboard: Portfolio"}),(0,r.jsx)(l.Z,{}),(0,r.jsx)(s.Z,{component:"main",sx:{display:"flex",flex:"1 1 auto",overflow:"hidden",position:"relative"},children:(0,r.jsxs)(s.Z,{ref:e,sx:{bottom:0,display:"flex",left:0,position:"absolute",right:0,top:0},children:[(0,r.jsx)(U,{container:e.current,filters:t.state.filters,group:x,onFiltersChange:t.handleFiltersChange,onClose:Z,onGroupChange:j,open:p}),(0,r.jsx)(P,{open:p,children:(0,r.jsxs)(c.Z,{spacing:4,children:[(0,r.jsxs)(c.Z,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[(0,r.jsx)("div",{children:(0,r.jsx)(u.Z,{variant:"h4",children:"Portfolio"})}),(0,r.jsx)(c.Z,{alignItems:"center",direction:"row",spacing:1,children:(0,r.jsx)(o.Z,{color:"inherit",startIcon:(0,r.jsx)(d.Z,{children:(0,r.jsx)(i.Z,{})}),onClick:b,children:"Filters"})})]}),(0,r.jsx)(W,{}),(0,r.jsx)(ec,{count:g.itemsCount,group:x,items:g.items,onPageChange:t.handlePageChange,onRowsPerPageChange:t.handleRowsPerPageChange,page:t.state.page,rowsPerPage:t.state.rowsPerPage})]})})]})})]})};eh.getLayout=e=>(0,r.jsx)(S.A,{children:e});var eg=eh},46395:function(e,n,t){"use strict";function r(e,n,t){return e.slice(n*t,n*t+t)}t.d(n,{i:function(){return r}})},49181:function(e,n,t){"use strict";t.d(n,{p:function(){return function e(n){return"object"!=typeof n||null===n?n:n instanceof Date?new Date(n.getTime()):n instanceof Array?n.reduce((n,t,r)=>(n[r]=e(t),n),[]):n instanceof Object?Object.keys(n).reduce((t,r)=>(t[r]=e(n[r]),t),{}):void 0}}})}},function(e){e.O(0,[4310,1425,8471,3155,3473,2777,2053,7483,2077,7504,7375,8896,6886,291,4616,4467,1048,7279,9774,2888,179],function(){return e(e.s=24535)}),_N_E=e.O()}]);